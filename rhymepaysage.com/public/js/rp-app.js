document.createElement("picture"),function(){"use strict";function e(t,i){function o(e,t){return function(){return e.apply(t,arguments)}}var a;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=t,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!e.notNeeded(t)){for(var r=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,l=0,c=r.length;c>l;l++)s[r[l]]=o(s[r[l]],s);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,n.hijacked||n,i):o.call(t,e,n,i)},t.addEventListener=function(e,n,i){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):o.call(t,e,n,i)}),"function"==typeof t.onclick&&(a=t.onclick,t.addEventListener("click",function(e){a(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,o=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=i&&/OS [6-7]_\d/.test(navigator.userAgent),r=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(i&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;i&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,a;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],i){if(a=window.getSelection(),a.rangeCount&&!a.isCollapsed)return!0;if(!o){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},e.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,r,s,l,c,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,r=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(c=e.changedTouches[0],u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=u.tagName.toLowerCase(),"label"===s){if(t=this.findControl(u)){if(this.focus(u),n)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-r>100||i&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),i&&"select"===s||(this.targetElement=null,e.preventDefault()),!1);return i&&!o&&(l=u.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,i,o,a;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(r&&(o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),o[1]>=10&&o[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction?!0:(a=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],a>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===e.style.touchAction||"manipulation"===e.style.touchAction?!0:!1)},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),function(e){var t=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(t)&&t.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var t,n=document.createElement("source"),i=function(e){var t,i,o=e.parentNode;"PICTURE"===o.nodeName.toUpperCase()?(t=n.cloneNode(),o.insertBefore(t,o.firstElementChild),setTimeout(function(){o.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,i=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=i}))},o=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)i(t[e])},a=function(){clearTimeout(t),t=setTimeout(o,99)},r=e.matchMedia&&matchMedia("(orientation: landscape)"),s=function(){a(),r&&r.addListener&&r.addListener(a)};return n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?s():document.addEventListener("DOMContentLoaded",s),a}())}(window),function(e,t,n){"use strict";function i(e){return" "===e||"	"===e||"\n"===e||"\f"===e||"\r"===e}function o(t,n){var i=new e.Image;return i.onerror=function(){S[t]=!1,te()},i.onload=function(){S[t]=1===i.width,te()},i.src=n,"pending"}function a(){N=!1,U=e.devicePixelRatio,j={},Z={},y.DPR=U||1,B.width=Math.max(e.innerWidth||0,E.clientWidth),B.height=Math.max(e.innerHeight||0,E.clientHeight),B.vw=B.width/100,B.vh=B.height/100,g=[B.height,B.width,U].join("-"),B.em=y.getEmValue(),B.rem=B.em}function r(e,t,n,i){var o,a,r,s;return"saveData"===k.algorithm?e>2.7?s=n+1:(a=t-n,o=Math.pow(e-.6,1.5),r=a*o,i&&(r+=.1*o),s=e+r):s=n>1?Math.sqrt(e*t):e,s>n}function s(e){var t,n=y.getSet(e),i=!1;"pending"!==n&&(i=g,n&&(t=y.setRes(n),y.applySetCandidate(t,e))),e[y.ns].evaled=i}function l(e,t){return e.res-t.res}function c(e,t,n){var i;return!n&&t&&(n=e[y.ns].sets,n=n&&n[n.length-1]),i=u(t,n),i&&(t=y.makeUrl(t),e[y.ns].curSrc=t,e[y.ns].curCan=i,i.res||ee(i,i.set.sizes)),i}function u(e,t){var n,i,o;if(e&&t)for(o=y.parseSet(t),e=y.makeUrl(e),n=0;n<o.length;n++)if(e===y.makeUrl(o[n].url)){i=o[n];break}return i}function d(e,t){var n,i,o,a,r=e.getElementsByTagName("source");for(n=0,i=r.length;i>n;n++)o=r[n],o[y.ns]=!0,a=o.getAttribute("srcset"),a&&t.push({srcset:a,media:o.getAttribute("media"),type:o.getAttribute("type"),sizes:o.getAttribute("sizes")})}function p(e,t){function n(t){var n,i=t.exec(e.substring(p));return i?(n=i[0],p+=n.length,n):void 0}function o(){var e,n,i,o,a,l,c,u,d,p=!1,h={};for(o=0;o<s.length;o++)a=s[o],l=a[a.length-1],c=a.substring(0,a.length-1),u=parseInt(c,10),d=parseFloat(c),X.test(c)&&"w"===l?((e||n)&&(p=!0),0===u?p=!0:e=u):$.test(c)&&"x"===l?((e||n||i)&&(p=!0),0>d?p=!0:n=d):X.test(c)&&"h"===l?((i||n)&&(p=!0),0===u?p=!0:i=u):p=!0;p||(h.url=r,e&&(h.w=e),n&&(h.d=n),i&&(h.h=i),i||n||e||(h.d=1),1===h.d&&(t.has1x=!0),h.set=t,f.push(h))}function a(){for(n(W),l="",c="in descriptor";;){if(u=e.charAt(p),"in descriptor"===c)if(i(u))l&&(s.push(l),l="",c="after descriptor");else{if(","===u)return p+=1,l&&s.push(l),void o();if("("===u)l+=u,c="in parens";else{if(""===u)return l&&s.push(l),void o();l+=u}}else if("in parens"===c)if(")"===u)l+=u,c="in descriptor";else{if(""===u)return s.push(l),void o();l+=u}else if("after descriptor"===c)if(i(u));else{if(""===u)return void o();c="in descriptor",p-=1}p+=1}}for(var r,s,l,c,u,d=e.length,p=0,f=[];;){if(n(K),p>=d)return f;r=n(Y),s=[],","===r.slice(-1)?(r=r.replace(G,""),o()):a()}}function f(e){function t(e){function t(){a&&(r.push(a),a="")}function n(){r[0]&&(s.push(r),r=[])}for(var o,a="",r=[],s=[],l=0,c=0,u=!1;;){if(o=e.charAt(c),""===o)return t(),n(),s;if(u){if("*"===o&&"/"===e[c+1]){u=!1,c+=2,t();continue}c+=1}else{if(i(o)){if(e.charAt(c-1)&&i(e.charAt(c-1))||!a){c+=1;continue}if(0===l){t(),c+=1;continue}o=" "}else if("("===o)l+=1;else if(")"===o)l-=1;else{if(","===o){t(),n(),c+=1;continue}if("/"===o&&"*"===e.charAt(c+1)){u=!0,c+=2;continue}}a+=o,c+=1}}}function n(e){return u.test(e)&&parseFloat(e)>=0?!0:d.test(e)?!0:"0"===e||"-0"===e||"+0"===e?!0:!1}var o,a,r,s,l,c,u=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,d=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(a=t(e),r=a.length,o=0;r>o;o++)if(s=a[o],l=s[s.length-1],n(l)){if(c=l,s.pop(),0===s.length)return c;if(s=s.join(" "),y.matchesMedia(s))return c}return"100vw"}t.createElement("picture");var h,m,v,g,y={},w=!1,x=function(){},b=t.createElement("img"),T=b.getAttribute,C=b.setAttribute,A=b.removeAttribute,E=t.documentElement,S={},k={algorithm:""},I="data-pfsrc",D=I+"set",_=navigator.userAgent,M=/rident/.test(_)||/ecko/.test(_)&&_.match(/rv\:(\d+)/)&&RegExp.$1>35,L="currentSrc",O=/\s+\+?\d+(e\d+)?w/,F=/(\([^)]+\))?\s*(.+)/,P=e.picturefillCFG,R="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",z="font-size:100%!important;",N=!0,j={},Z={},U=e.devicePixelRatio,B={px:1,"in":96},q=t.createElement("a"),H=!1,W=/^[ \t\n\r\u000c]+/,K=/^[, \t\n\r\u000c]+/,Y=/^[^ \t\n\r\u000c]+/,G=/[,]+$/,X=/^\d+$/,$=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,V=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Q=function(e){var t={};return function(n){return n in t||(t[n]=e(n)),t[n]}},J=function(){var e=/^([\d\.]+)(em|vw|px)$/,t=function(){for(var e=arguments,t=0,n=e[0];++t in e;)n=n.replace(e[t],e[++t]);return n},n=Q(function(e){return"return "+t((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(t,i){var o;if(!(t in j))if(j[t]=!1,i&&(o=t.match(e)))j[t]=o[1]*B[o[2]];else try{j[t]=new Function("e",n(t))(B)}catch(a){}return j[t]}}(),ee=function(e,t){return e.w?(e.cWidth=y.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},te=function(e){if(w){var n,i,o,a=e||{};if(a.elements&&1===a.elements.nodeType&&("IMG"===a.elements.nodeName.toUpperCase()?a.elements=[a.elements]:(a.context=a.elements,a.elements=null)),n=a.elements||y.qsa(a.context||t,a.reevaluate||a.reselect?y.sel:y.selShort),o=n.length){for(y.setupRun(a),H=!0,i=0;o>i;i++)y.fillImg(n[i],a);y.teardownRun(a)}}};h=e.console&&console.warn?function(e){console.warn(e)}:x,L in b||(L="src"),S["image/jpeg"]=!0,S["image/gif"]=!0,S["image/png"]=!0,S["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),y.ns=("pf"+(new Date).getTime()).substr(0,9),y.supSrcset="srcset"in b,y.supSizes="sizes"in b,y.supPicture=!!e.HTMLPictureElement,y.supSrcset&&y.supPicture&&!y.supSizes&&!function(e){b.srcset="data:,a",e.src="data:,a",y.supSrcset=b.complete===e.complete,y.supPicture=y.supSrcset&&y.supPicture}(t.createElement("img")),y.supSrcset&&!y.supSizes?!function(){var e="data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==",n="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",i=t.createElement("img"),o=function(){var e=i.width;2===e&&(y.supSizes=!0),v=y.supSrcset&&!y.supSizes,w=!0,setTimeout(te)};i.onload=o,i.onerror=o,i.setAttribute("sizes","9px"),i.srcset=n+" 1w,"+e+" 9w",i.src=n}():w=!0,y.selShort="picture>img,img[srcset]",y.sel=y.selShort,y.cfg=k,y.DPR=U||1,y.u=B,y.types=S,y.setSize=x,y.makeUrl=Q(function(e){return q.href=e,q.href}),y.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},y.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?y.matchesMedia=function(e){return!e||matchMedia(e).matches}:y.matchesMedia=y.mMQ,y.matchesMedia.apply(this,arguments)},y.mMQ=function(e){return e?J(e):!0},y.calcLength=function(e){var t=J(e,!0)||!1;return 0>t&&(t=!1),t},y.supportsType=function(e){return e?S[e]:!0},y.parseSize=Q(function(e){var t=(e||"").match(F);return{media:t&&t[1],length:t&&t[2]}}),y.parseSet=function(e){return e.cands||(e.cands=p(e.srcset,e)),e.cands},y.getEmValue=function(){var e;if(!m&&(e=t.body)){var n=t.createElement("div"),i=E.style.cssText,o=e.style.cssText;n.style.cssText=R,E.style.cssText=z,e.style.cssText=z,e.appendChild(n),m=n.offsetWidth,e.removeChild(n),m=parseFloat(m,10),E.style.cssText=i,e.style.cssText=o}return m||16},y.calcListLength=function(e){if(!(e in Z)||k.uT){var t=y.calcLength(f(e));Z[e]=t?t:B.width}return Z[e]},y.setRes=function(e){var t;if(e){t=y.parseSet(e);for(var n=0,i=t.length;i>n;n++)ee(t[n],e.sizes)}return t},y.setRes.res=ee,y.applySetCandidate=function(e,t){if(e.length){var n,i,o,a,s,u,d,p,f,h=t[y.ns],m=y.DPR;if(u=h.curSrc||t[L],d=h.curCan||c(t,u,e[0].set),d&&d.set===e[0].set&&(f=M&&!t.complete&&d.res-.1>m,f||(d.cached=!0,d.res>=m&&(s=d))),!s)for(e.sort(l),a=e.length,s=e[a-1],i=0;a>i;i++)if(n=e[i],n.res>=m){o=i-1,s=e[o]&&(f||u!==y.makeUrl(n.url))&&r(e[o].res,n.res,m,e[o].cached)?e[o]:n;break}s&&(p=y.makeUrl(s.url),h.curSrc=p,h.curCan=s,p!==u&&y.setSrc(t,s),y.setSize(t))}},y.setSrc=function(e,t){var n;e.src=t.url,"image/svg+xml"===t.set.type&&(n=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=n))},y.getSet=function(e){var t,n,i,o=!1,a=e[y.ns].sets;for(t=0;t<a.length&&!o;t++)if(n=a[t],n.srcset&&y.matchesMedia(n.media)&&(i=y.supportsType(n.type))){"pending"===i&&(n=i),o=n;break}return o},y.parseSets=function(e,t,i){var o,a,r,s,l=t&&"PICTURE"===t.nodeName.toUpperCase(),c=e[y.ns];(c.src===n||i.src)&&(c.src=T.call(e,"src"),c.src?C.call(e,I,c.src):A.call(e,I)),(c.srcset===n||i.srcset||!y.supSrcset||e.srcset)&&(o=T.call(e,"srcset"),c.srcset=o,s=!0),c.sets=[],l&&(c.pic=!0,d(t,c.sets)),c.srcset?(a={srcset:c.srcset,sizes:T.call(e,"sizes")},c.sets.push(a),r=(v||c.src)&&O.test(c.srcset||""),r||!c.src||u(c.src,a)||a.has1x||(a.srcset+=", "+c.src,a.cands.push({url:c.src,d:1,set:a}))):c.src&&c.sets.push({srcset:c.src,sizes:null}),c.curCan=null,c.curSrc=n,c.supported=!(l||a&&!y.supSrcset||r&&!y.supSizes),s&&y.supSrcset&&!c.supported&&(o?(C.call(e,D,o),e.srcset=""):A.call(e,D)),c.supported&&!c.srcset&&(!c.src&&e.src||e.src!==y.makeUrl(c.src))&&(null===c.src?e.removeAttribute("src"):e.src=c.src),c.parsed=!0},y.fillImg=function(e,t){var n,i=t.reselect||t.reevaluate;e[y.ns]||(e[y.ns]={}),n=e[y.ns],(i||n.evaled!==g)&&((!n.parsed||t.reevaluate)&&y.parseSets(e,e.parentNode,t),n.supported?n.evaled=g:s(e))},y.setupRun=function(){(!H||N||U!==e.devicePixelRatio)&&a()},y.supPicture?(te=x,y.fillImg=x):!function(){var n,i=e.attachEvent?/d$|^c/:/d$|^c|^i/,o=function(){var e=t.readyState||"";a=setTimeout(o,"loading"===e?200:999),t.body&&(y.fillImgs(),n=n||i.test(e),n&&clearTimeout(a))},a=setTimeout(o,t.body?9:99),r=function(e,t){var n,i,o=function(){var a=new Date-i;t>a?n=setTimeout(o,t-a):(n=null,e())};return function(){i=new Date,n||(n=setTimeout(o,t))}},s=E.clientHeight,l=function(){N=Math.max(e.innerWidth||0,E.clientWidth)!==B.width||E.clientHeight!==s,s=E.clientHeight,N&&y.fillImgs()};V(e,"resize",r(l,99)),V(t,"readystatechange",o)}(),y.picturefill=te,y.fillImgs=te,y.teardownRun=x,te._=y,e.picturefillCFG={pf:y,push:function(e){var t=e.shift();"function"==typeof y[t]?y[t].apply(y,e):(k[t]=e[0],H&&y.fillImgs({reselect:!0}))}};for(;P&&P.length;)e.picturefillCFG.push(P.shift());e.picturefill=te,"object"==typeof module&&"object"==typeof module.exports?module.exports=te:"function"==typeof define&&define.amd&&define("picturefill",function(){return te}),y.supPicture||(S["image/webp"]=o("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document),$(document).ready(function(){FastClick.attach(document.body),$("#container").size()>0&&(document.createStyleSheet?document.createStyleSheet("/css/rp-app.css"):$("head").append($("<link rel='stylesheet' href='/css/rp-app.css' type='text/css' media='screen' />"))),$("#nav-secondary li a").on("click",function(e){e.preventDefault(),thisBodyClass=$(this).attr("id"),$("body").removeClass().addClass(thisBodyClass)})}),function(){!function(e,t,n){var i,o,a;return a="slidesjs",o={width:940,height:528,start:1,navigation:{active:!0,effect:"slide"},pagination:{active:!0,effect:"slide"},play:{active:!1,effect:"slide",interval:5e3,auto:!1,swap:!0,pauseOnHover:!1,restartDelay:2500},effect:{slide:{speed:500},fade:{speed:300,crossfade:!0}},callback:{loaded:function(){},start:function(){},complete:function(){}}},i=function(){function t(t,n){this.element=t,this.options=e.extend(!0,{},o,n),this._defaults=o,this._name=a,this.init()}return t}(),i.prototype.init=function(){var n,i,o,a,r,s,l=this;return n=e(this.element),this.data=e.data(this),e.data(this,"animating",!1),e.data(this,"total",n.children().not(".slidesjs-navigation",n).length),e.data(this,"current",this.options.start-1),e.data(this,"vendorPrefix",this._getVendorPrefix()),"undefined"!=typeof TouchEvent&&(e.data(this,"touch",!0),this.options.effect.slide.speed=this.options.effect.slide.speed/2),n.css({overflow:"hidden"}),n.slidesContainer=n.children().not(".slidesjs-navigation",n).wrapAll("<div class='slidesjs-container'>",n).parent().css({overflow:"hidden",position:"relative"}),e(".slidesjs-container",n).wrapInner("<div class='slidesjs-control'>",n).children(),e(".slidesjs-control",n).css({position:"relative",left:0}),e(".slidesjs-control",n).children().addClass("slidesjs-slide").css({position:"absolute",top:0,left:0,width:"100%",zIndex:0,display:"none",webkitBackfaceVisibility:"hidden"}),e.each(e(".slidesjs-control",n).children(),function(t){var n;return n=e(this),n.attr("slidesjs-index",t)}),this.data.touch&&(e(".slidesjs-control",n).on("touchstart",function(e){return l._touchstart(e)}),e(".slidesjs-control",n).on("touchmove",function(e){return l._touchmove(e)}),e(".slidesjs-control",n).on("touchend",function(e){return l._touchend(e)})),n.fadeIn(0),this.update(),this.data.touch&&this._setuptouch(),e(".slidesjs-control",n).children(":eq("+this.data.current+")").eq(0).fadeIn(0,function(){return e(this).css({zIndex:10})}),this.options.navigation.active&&(r=e("<a>",{"class":"slidesjs-previous slidesjs-navigation",href:"#",title:"Previous",text:"Previous"}).appendTo(n),i=e("<a>",{"class":"slidesjs-next slidesjs-navigation",href:"#",title:"Next",text:"Next"}).appendTo(n)),e(".slidesjs-next",n).click(function(e){return e.preventDefault(),l.stop(!0),l.next(l.options.navigation.effect)}),e(".slidesjs-previous",n).click(function(e){return e.preventDefault(),l.stop(!0),l.previous(l.options.navigation.effect)}),this.options.play.active&&(a=e("<a>",{"class":"slidesjs-play slidesjs-navigation",href:"#",title:"Play",text:"Play"}).appendTo(n),s=e("<a>",{"class":"slidesjs-stop slidesjs-navigation",href:"#",title:"Stop",text:"Stop"}).appendTo(n),a.click(function(e){return e.preventDefault(),l.play(!0)}),s.click(function(e){return e.preventDefault(),l.stop(!0)}),this.options.play.swap&&s.css({display:"none"})),this.options.pagination.active&&(o=e("<ul>",{"class":"slidesjs-pagination"}).appendTo(n),e.each(new Array(this.data.total),function(t){var n,i;return n=e("<li>",{"class":"slidesjs-pagination-item"}).appendTo(o),i=e("<a>",{href:"#","data-slidesjs-item":t,html:t+1}).appendTo(n),i.click(function(t){return t.preventDefault(),l.stop(!0),l["goto"](1*e(t.currentTarget).attr("data-slidesjs-item")+1)})})),e(t).bind("resize",function(){return l.update()}),this._setActive(),this.options.play.auto&&this.play(),this.options.callback.loaded(this.options.start)},i.prototype._setActive=function(t){var n,i;return n=e(this.element),this.data=e.data(this),i=t>-1?t:this.data.current,e(".active",n).removeClass("active"),e(".slidesjs-pagination li:eq("+i+") a",n).addClass("active")},i.prototype.update=function(){var t,n,i;return t=e(this.element),this.data=e.data(this),e(".slidesjs-control",t).children(":not(:eq("+this.data.current+"))").css({display:"none",left:0,zIndex:0}),i=t.width(),n=this.options.height/this.options.width*i,this.options.width=i,this.options.height=n,e(".slidesjs-control, .slidesjs-container",t).css({width:i,height:n})},i.prototype.next=function(t){var n;return n=e(this.element),this.data=e.data(this),e.data(this,"direction","next"),void 0===t&&(t=this.options.navigation.effect),"fade"===t?this._fade():this._slide()},i.prototype.previous=function(t){var n;return n=e(this.element),this.data=e.data(this),e.data(this,"direction","previous"),void 0===t&&(t=this.options.navigation.effect),"fade"===t?this._fade():this._slide()},i.prototype["goto"]=function(t){var n,i;if(n=e(this.element),this.data=e.data(this),void 0===i&&(i=this.options.pagination.effect),t>this.data.total?t=this.data.total:1>t&&(t=1),"number"==typeof t)return"fade"===i?this._fade(t):this._slide(t);if("string"==typeof t){if("first"===t)return"fade"===i?this._fade(0):this._slide(0);if("last"===t)return"fade"===i?this._fade(this.data.total):this._slide(this.data.total)}},i.prototype._setuptouch=function(){var t,n,i,o;return t=e(this.element),this.data=e.data(this),o=e(".slidesjs-control",t),n=this.data.current+1,i=this.data.current-1,0>i&&(i=this.data.total-1),n>this.data.total-1&&(n=0),o.children(":eq("+n+")").css({display:"block",left:this.options.width}),o.children(":eq("+i+")").css({display:"block",left:-this.options.width})},i.prototype._touchstart=function(t){var n,i;return n=e(this.element),this.data=e.data(this),i=t.originalEvent.touches[0],this._setuptouch(),e.data(this,"touchtimer",Number(new Date)),e.data(this,"touchstartx",i.pageX),e.data(this,"touchstarty",i.pageY),t.stopPropagation()},i.prototype._touchend=function(t){var n,i,o,a,r,s,l,c=this;return n=e(this.element),this.data=e.data(this),s=t.originalEvent.touches[0],a=e(".slidesjs-control",n),a.position().left>.5*this.options.width||a.position().left>.1*this.options.width&&Number(new Date)-this.data.touchtimer<250?(e.data(this,"direction","previous"),this._slide()):a.position().left<-(.5*this.options.width)||a.position().left<-(.1*this.options.width)&&Number(new Date)-this.data.touchtimer<250?(e.data(this,"direction","next"),this._slide()):(o=this.data.vendorPrefix,l=o+"Transform",i=o+"TransitionDuration",r=o+"TransitionTimingFunction",a[0].style[l]="translateX(0px)",a[0].style[i]=.85*this.options.effect.slide.speed+"ms"),a.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){return o=c.data.vendorPrefix,l=o+"Transform",i=o+"TransitionDuration",r=o+"TransitionTimingFunction",a[0].style[l]="",a[0].style[i]="",a[0].style[r]=""}),t.stopPropagation()},i.prototype._touchmove=function(t){var n,i,o,a,r;return n=e(this.element),this.data=e.data(this),a=t.originalEvent.touches[0],i=this.data.vendorPrefix,o=e(".slidesjs-control",n),r=i+"Transform",e.data(this,"scrolling",Math.abs(a.pageX-this.data.touchstartx)<Math.abs(a.pageY-this.data.touchstarty)),this.data.animating||this.data.scrolling||(t.preventDefault(),this._setuptouch(),o[0].style[r]="translateX("+(a.pageX-this.data.touchstartx)+"px)"),t.stopPropagation()},i.prototype.play=function(t){var n,i,o,a=this;return n=e(this.element),this.data=e.data(this),!this.data.playInterval&&(t&&(i=this.data.current,this.data.direction="next","fade"===this.options.play.effect?this._fade():this._slide()),e.data(this,"playInterval",setInterval(function(){return i=a.data.current,a.data.direction="next","fade"===a.options.play.effect?a._fade():a._slide()},this.options.play.interval)),o=e(".slidesjs-container",n),this.options.play.pauseOnHover&&(o.unbind(),o.bind("mouseenter",function(){return a.stop()}),o.bind("mouseleave",function(){return a.options.play.restartDelay?e.data(a,"restartDelay",setTimeout(function(){return a.play(!0)},a.options.play.restartDelay)):a.play()})),e.data(this,"playing",!0),e(".slidesjs-play",n).addClass("slidesjs-playing"),this.options.play.swap)?(e(".slidesjs-play",n).hide(),e(".slidesjs-stop",n).show()):void 0},i.prototype.stop=function(t){var n;return n=e(this.element),this.data=e.data(this),clearInterval(this.data.playInterval),this.options.play.pauseOnHover&&t&&e(".slidesjs-container",n).unbind(),e.data(this,"playInterval",null),e.data(this,"playing",!1),e(".slidesjs-play",n).removeClass("slidesjs-playing"),this.options.play.swap?(e(".slidesjs-stop",n).hide(),e(".slidesjs-play",n).show()):void 0},i.prototype._slide=function(t){var n,i,o,a,r,s,l,c,u,d,p=this;return n=e(this.element),this.data=e.data(this),this.data.animating||t===this.data.current+1?void 0:(e.data(this,"animating",!0),i=this.data.current,t>-1?(t-=1,d=t>i?1:-1,o=t>i?-this.options.width:this.options.width,r=t):(d="next"===this.data.direction?1:-1,o="next"===this.data.direction?-this.options.width:this.options.width,r=i+d),-1===r&&(r=this.data.total-1),r===this.data.total&&(r=0),this._setActive(r),l=e(".slidesjs-control",n),t>-1&&l.children(":not(:eq("+i+"))").css({display:"none",left:0,zIndex:0}),l.children(":eq("+r+")").css({display:"block",left:d*this.options.width,zIndex:10}),this.options.callback.start(i+1),this.data.vendorPrefix?(s=this.data.vendorPrefix,u=s+"Transform",a=s+"TransitionDuration",c=s+"TransitionTimingFunction",l[0].style[u]="translateX("+o+"px)",l[0].style[a]=this.options.effect.slide.speed+"ms",l.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){return l[0].style[u]="",l[0].style[a]="",l.children(":eq("+r+")").css({left:0}),l.children(":eq("+i+")").css({display:"none",left:0,zIndex:0}),e.data(p,"current",r),e.data(p,"animating",!1),l.unbind("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd"),l.children(":not(:eq("+r+"))").css({display:"none",left:0,zIndex:0}),p.data.touch&&p._setuptouch(),p.options.callback.complete(r+1)})):l.stop().animate({left:o},this.options.effect.slide.speed,function(){return l.css({left:0}),l.children(":eq("+r+")").css({left:0}),l.children(":eq("+i+")").css({display:"none",left:0,zIndex:0},e.data(p,"current",r),e.data(p,"animating",!1),p.options.callback.complete(r+1))}))},i.prototype._fade=function(t){var n,i,o,a,r,s=this;return n=e(this.element),this.data=e.data(this),this.data.animating||t===this.data.current+1?void 0:(e.data(this,"animating",!0),i=this.data.current,t?(t-=1,r=t>i?1:-1,o=t):(r="next"===this.data.direction?1:-1,o=i+r),-1===o&&(o=this.data.total-1),o===this.data.total&&(o=0),this._setActive(o),a=e(".slidesjs-control",n),a.children(":eq("+o+")").css({display:"none",left:0,zIndex:10}),this.options.callback.start(i+1),this.options.effect.fade.crossfade?(a.children(":eq("+this.data.current+")").stop().fadeOut(this.options.effect.fade.speed),a.children(":eq("+o+")").stop().fadeIn(this.options.effect.fade.speed,function(){return a.children(":eq("+o+")").css({zIndex:0}),e.data(s,"animating",!1),e.data(s,"current",o),s.options.callback.complete(o+1)})):a.children(":eq("+i+")").stop().fadeOut(this.options.effect.fade.speed,function(){return a.children(":eq("+o+")").stop().fadeIn(s.options.effect.fade.speed,function(){return a.children(":eq("+o+")").css({zIndex:10})}),e.data(s,"animating",!1),e.data(s,"current",o),s.options.callback.complete(o+1)}))},i.prototype._getVendorPrefix=function(){var e,t,i,o,a;for(e=n.body||n.documentElement,i=e.style,o="transition",a=["Moz","Webkit","Khtml","O","ms"],o=o.charAt(0).toUpperCase()+o.substr(1),t=0;t<a.length;){if("string"==typeof i[a[t]+o])return a[t];t++}return!1},e.fn[a]=function(t){return this.each(function(){return e.data(this,"plugin_"+a)?void 0:e.data(this,"plugin_"+a,new i(this,t))})}}(jQuery,window,document)}.call(this),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";var e=function(e,t){var n,i,o,a,r,s,l,c,u,d,p,f,h,m,v,g,y,w,x,b=this,T=!1,C=!0,A=!0,E={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",
label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},S=function(e){if(g)return!0;e=e||window.event,v.timeToIdle&&v.mouseUsed&&!u&&R();for(var n,i,o=e.target||e.srcElement,a=o.getAttribute("class")||"",r=0;r<H.length;r++)n=H[r],n.onTap&&a.indexOf("pswp__"+n.name)>-1&&(n.onTap(),i=!0);if(i){e.stopPropagation&&e.stopPropagation(),g=!0;var s=t.features.isOldAndroid?600:30;y=setTimeout(function(){g=!1},s)}},k=function(){return!e.likelyTouchDevice||v.mouseUsed||screen.width>v.fitControlsWidth},I=function(e,n,i){t[(i?"add":"remove")+"Class"](e,"pswp__"+n)},D=function(){var e=1===v.getNumItemsFn();e!==m&&(I(i,"ui--one-slide",e),m=e)},_=function(){I(l,"share-modal--hidden",A)},M=function(){return A=!A,A?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){A&&_()},300)):(_(),setTimeout(function(){A||t.addClass(l,"pswp__share-modal--fade-in")},30)),A||O(),!1},L=function(t){t=t||window.event;var n=t.target||t.srcElement;return e.shout("shareLinkClick",t,n),n.href?n.hasAttribute("download")?!0:(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),A||M(),!1):!1},O=function(){for(var e,t,n,i,o,a="",r=0;r<v.shareButtons.length;r++)e=v.shareButtons[r],n=v.getImageURLForShare(e),i=v.getPageURLForShare(e),o=v.getTextForShare(e),t=e.url.replace("{{url}}",encodeURIComponent(i)).replace("{{image_url}}",encodeURIComponent(n)).replace("{{raw_image_url}}",n).replace("{{text}}",encodeURIComponent(o)),a+='<a href="'+t+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",v.parseShareButtonOut&&(a=v.parseShareButtonOut(e,a));l.children[0].innerHTML=a,l.children[0].onclick=L},F=function(e){for(var n=0;n<v.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+v.closeElClasses[n]))return!0},P=0,R=function(){clearTimeout(x),P=0,u&&b.setIdle(!1)},z=function(e){e=e?e:window.event;var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(x),x=setTimeout(function(){b.setIdle(!0)},v.timeToIdleOutside))},N=function(){v.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=b.getFullscreenAPI()),n?(t.bind(document,n.eventK,b.updateFullscreen),b.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},j=function(){v.preloaderEl&&(Z(!0),d("beforeChange",function(){clearTimeout(h),h=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&Z(!1):Z(!0)},v.loadingIndicatorDelay)}),d("imageLoadComplete",function(t,n){e.currItem===n&&Z(!0)}))},Z=function(e){f!==e&&(I(p,"preloader--active",!e),f=e)},U=function(e){var n=e.vGap;if(k()){var r=v.barsSize;if(v.captionEl&&"auto"===r.bottom)if(a||(a=t.createEl("pswp__caption pswp__caption--fake"),a.appendChild(t.createEl("pswp__caption__center")),i.insertBefore(a,o),t.addClass(i,"pswp__ui--fit")),v.addCaptionHTMLFn(e,a,!0)){var s=a.clientHeight;n.bottom=parseInt(s,10)||44}else n.bottom=r.top;else n.bottom="auto"===r.bottom?0:r.bottom;n.top=r.top}else n.top=n.bottom=0},B=function(){v.timeToIdle&&d("mouseUsed",function(){t.bind(document,"mousemove",R),t.bind(document,"mouseout",z),w=setInterval(function(){P++,2===P&&b.setIdle(!0)},v.timeToIdle/2)})},q=function(){d("onVerticalDrag",function(e){C&&.95>e?b.hideControls():!C&&e>=.95&&b.showControls()});var e;d("onPinchClose",function(t){C&&.9>t?(b.hideControls(),e=!0):e&&!C&&t>.9&&b.showControls()}),d("zoomGestureEnded",function(){e=!1,e&&!C&&b.showControls()})},H=[{name:"caption",option:"captionEl",onInit:function(e){o=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){M()}},{name:"button--share",option:"shareEl",onInit:function(e){s=e},onTap:function(){M()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){r=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){p=e}}],W=function(){var e,n,o,a=function(i){if(i)for(var a=i.length,r=0;a>r;r++){e=i[r],n=e.className;for(var s=0;s<H.length;s++)o=H[s],n.indexOf("pswp__"+o.name)>-1&&(v[o.option]?(t.removeClass(e,"pswp__element--disabled"),o.onInit&&o.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};a(i.children);var r=t.getChildByClass(i,"pswp__top-bar");r&&a(r.children)};b.init=function(){t.extend(e.options,E,!0),v=e.options,i=t.getChildByClass(e.scrollWrap,"pswp__ui"),d=e.listen,q(),d("beforeChange",b.update),d("doubleTap",function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(v.getDoubleTapZoom(!1,e.currItem),t,333)}),d("preventDragEvent",function(e,t,n){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(i.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)}),d("bindEvents",function(){t.bind(i,"pswpTap click",S),t.bind(e.scrollWrap,"pswpTap",b.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",b.onMouseOver)}),d("unbindEvents",function(){A||M(),w&&clearInterval(w),t.unbind(document,"mouseout",z),t.unbind(document,"mousemove",R),t.unbind(i,"pswpTap click",S),t.unbind(e.scrollWrap,"pswpTap",b.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",b.onMouseOver),n&&(t.unbind(document,n.eventK,b.updateFullscreen),n.isFullscreen()&&(v.hideAnimationDuration=0,n.exit()),n=null)}),d("destroy",function(){v.captionEl&&(a&&i.removeChild(a),t.removeClass(o,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(i,"pswp__ui--over-close"),t.addClass(i,"pswp__ui--hidden"),b.setIdle(!1)}),v.showAnimationDuration||t.removeClass(i,"pswp__ui--hidden"),d("initialZoomIn",function(){v.showAnimationDuration&&t.removeClass(i,"pswp__ui--hidden")}),d("initialZoomOut",function(){t.addClass(i,"pswp__ui--hidden")}),d("parseVerticalMargin",U),W(),v.shareEl&&s&&l&&(A=!0),D(),B(),N(),j()},b.setIdle=function(e){u=e,I(i,"ui--idle",e)},b.update=function(){C&&e.currItem?(b.updateIndexIndicator(),v.captionEl&&(v.addCaptionHTMLFn(e.currItem,o),I(o,"caption--empty",!e.currItem.title)),T=!0):T=!1,A||M(),D()},b.updateFullscreen=function(i){i&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},b.updateIndexIndicator=function(){v.counterEl&&(r.innerHTML=e.getCurrentIndex()+1+v.indexIndicatorSep+v.getNumItemsFn())},b.onGlobalTap=function(n){n=n||window.event;var i=n.target||n.srcElement;if(!g)if(n.detail&&"mouse"===n.detail.pointerType){if(F(i))return void e.close();t.hasClass(i,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?v.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(v.tapToToggleControls&&(C?b.hideControls():b.showControls()),v.tapToClose&&(t.hasClass(i,"pswp__img")||F(i)))return void e.close()},b.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;I(i,"ui--over-close",F(t))},b.hideControls=function(){t.addClass(i,"pswp__ui--hidden"),C=!1},b.showControls=function(){C=!0,T||b.update(),t.removeClass(i,"pswp__ui--hidden")},b.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},b.getFullscreenAPI=function(){var t,n=document.documentElement,i="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:i}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+i}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+i}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return c=v.closeOnScroll,v.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return v.closeOnScroll=c,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}};return e}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";var e=function(e,t,n,i){var o={features:null,bind:function(e,t,n,i){var o=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var a=0;a<t.length;a++)t[a]&&e[o](t[a],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){o.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){o.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(o.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(o.features)return o.features;var e=o.createEl(),t=e.style,n="",i={};if(i.oldIE=document.all&&!document.addEventListener,i.touch="ontouchstart"in window,window.requestAnimationFrame&&(i.raf=window.requestAnimationFrame,i.caf=window.cancelAnimationFrame),i.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!i.pointerEvent){var a=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var r=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);r&&r.length>0&&(r=parseInt(r[1],10),r>=1&&8>r&&(i.isOldIOSPhone=!0))}var s=a.match(/Android\s([0-9\.]*)/),l=s?s[1]:0;l=parseFloat(l),l>=1&&(4.4>l&&(i.isOldAndroid=!0),i.androidVersion=l),i.isMobileOpera=/opera mini|opera mobi/i.test(a)}for(var c,u,d=["transform","perspective","animationName"],p=["","webkit","Moz","ms","O"],f=0;4>f;f++){n=p[f];for(var h=0;3>h;h++)c=d[h],u=n+(n?c.charAt(0).toUpperCase()+c.slice(1):c),!i[c]&&u in t&&(i[c]=u);n&&!i.raf&&(n=n.toLowerCase(),i.raf=window[n+"RequestAnimationFrame"],i.raf&&(i.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}if(!i.raf){var m=0;i.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-m)),i=window.setTimeout(function(){e(t+n)},n);return m=t+n,i},i.caf=function(e){clearTimeout(e)}}return i.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=i,i}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(e,t,n,i){t=t.split(" ");for(var o,a=(i?"detach":"attach")+"Event",r=function(){n.handleEvent.call(n)},s=0;s<t.length;s++)if(o=t[s])if("object"==typeof n&&n.handleEvent){if(i){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=r;e[a]("on"+o,n["oldIE"+o])}else e[a]("on"+o,n)});var a=this,r=25,s=3,l={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};o.extend(l,i);var c,u,d,p,f,h,m,v,g,y,w,x,b,T,C,A,E,S,k,I,D,_,M,L,O,F,P,R,z,N,j,Z,U,B,q,H,W,K,Y,G,X,$,V,Q,J,ee,te,ne,ie,oe,ae,re,se,le,ce,ue,de=function(){return{x:0,y:0}},pe=de(),fe=de(),he=de(),me={},ve=0,ge={},ye=de(),we=0,xe=!0,be=[],Te={},Ce=!1,Ae=function(e,t){o.extend(a,t.publicMethods),be.push(e)},Ee=function(e){var t=Jt();return e>t-1?e-t:0>e?t+e:e},Se={},ke=function(e,t){return Se[e]||(Se[e]=[]),Se[e].push(t)},Ie=function(e){var t=Se[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(a,n)}},De=function(){return(new Date).getTime()},_e=function(e){le=e,a.bg.style.opacity=e*l.bgOpacity},Me=function(e,t,n,i,o){(!Ce||o&&o!==a.currItem)&&(i/=o?o.fitRatio:a.currItem.fitRatio),e[_]=x+t+"px, "+n+"px"+b+" scale("+i+")"},Le=function(e){ie&&(e&&(y>a.currItem.fitRatio?Ce||(pn(a.currItem,!1,!0),Ce=!0):Ce&&(pn(a.currItem),Ce=!1)),Me(ie,he.x,he.y,y))},Oe=function(e){e.container&&Me(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Fe=function(e,t){t[_]=x+e+"px, 0px"+b},Pe=function(e,t){if(!l.loop&&t){var n=p+(ye.x*ve-e)/ye.x,i=Math.round(e-yt.x);(0>n&&i>0||n>=Jt()-1&&0>i)&&(e=yt.x+i*l.mainScrollEndFriction)}yt.x=e,Fe(e,f)},Re=function(e,t){var n=wt[e]-ge[e];return fe[e]+pe[e]+n-n*(t/w)},ze=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Ne=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},je=null,Ze=function(){je&&(o.unbind(document,"mousemove",Ze),o.addClass(e,"pswp--has_mouse"),l.mouseUsed=!0,Ie("mouseUsed")),je=setTimeout(function(){je=null},100)},Ue=function(){o.bind(document,"keydown",a),j.transform&&o.bind(a.scrollWrap,"click",a),l.mouseUsed||o.bind(document,"mousemove",Ze),o.bind(window,"resize scroll",a),Ie("bindEvents")},Be=function(){o.unbind(window,"resize",a),o.unbind(window,"scroll",g.scroll),o.unbind(document,"keydown",a),o.unbind(document,"mousemove",Ze),j.transform&&o.unbind(a.scrollWrap,"click",a),K&&o.unbind(window,m,a),Ie("unbindEvents")},qe=function(e,t){var n=ln(a.currItem,me,e);return t&&(ne=n),n},He=function(e){return e||(e=a.currItem),e.initialZoomLevel},We=function(e){return e||(e=a.currItem),e.w>0?l.maxSpreadZoom:1},Ke=function(e,t,n,i){return i===a.currItem.initialZoomLevel?(n[e]=a.currItem.initialPosition[e],!0):(n[e]=Re(e,i),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]?(n[e]=t.max[e],!0):!1)},Ye=function(){if(_){var t=j.perspective&&!L;return x="translate"+(t?"3d(":"("),void(b=j.perspective?", 0px)":")")}_="left",o.addClass(e,"pswp--ie"),Fe=function(e,t){t.left=e+"px"},Oe=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,i=t*e.w,o=t*e.h;n.width=i+"px",n.height=o+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},Le=function(){if(ie){var e=ie,t=a.currItem,n=t.fitRatio>1?1:t.fitRatio,i=n*t.w,o=n*t.h;e.width=i+"px",e.height=o+"px",e.left=he.x+"px",e.top=he.y+"px"}}},Ge=function(e){var t="";l.escKey&&27===e.keyCode?t="close":l.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,a[t]()))},Xe=function(e){e&&(X||G||oe||H)&&(e.preventDefault(),e.stopPropagation())},$e=function(){a.setScrollOffset(0,o.getScrollY())},Ve={},Qe=0,Je=function(e){Ve[e]&&(Ve[e].raf&&F(Ve[e].raf),Qe--,delete Ve[e])},et=function(e){Ve[e]&&Je(e),Ve[e]||(Qe++,Ve[e]={})},tt=function(){for(var e in Ve)Ve.hasOwnProperty(e)&&Je(e)},nt=function(e,t,n,i,o,a,r){var s,l=De();et(e);var c=function(){if(Ve[e]){if(s=De()-l,s>=i)return Je(e),a(n),void(r&&r());a((n-t)*o(s/i)+t),Ve[e].raf=O(c)}};c()},it={shout:Ie,listen:ke,viewportSize:me,options:l,isMainScrollAnimating:function(){return oe},getZoomLevel:function(){return y},getCurrentIndex:function(){return p},isDragging:function(){return K},isZooming:function(){return J},setScrollOffset:function(e,t){ge.x=e,N=ge.y=t,Ie("updateScrollOffset",ge)},applyZoomPan:function(e,t,n,i){he.x=t,he.y=n,y=e,Le(i)},init:function(){if(!c&&!u){var n;a.framework=o,a.template=e,a.bg=o.getChildByClass(e,"pswp__bg"),P=e.className,c=!0,j=o.detectFeatures(),O=j.raf,F=j.caf,_=j.transform,z=j.oldIE,a.scrollWrap=o.getChildByClass(e,"pswp__scroll-wrap"),a.container=o.getChildByClass(a.scrollWrap,"pswp__container"),f=a.container.style,a.itemHolders=A=[{el:a.container.children[0],wrap:0,index:-1},{el:a.container.children[1],wrap:0,index:-1},{el:a.container.children[2],wrap:0,index:-1}],A[0].el.style.display=A[2].el.style.display="none",Ye(),g={resize:a.updateSize,scroll:$e,keydown:Ge,click:Xe};var i=j.isOldIOSPhone||j.isOldAndroid||j.isMobileOpera;for(j.animationName&&j.transform&&!i||(l.showAnimationDuration=l.hideAnimationDuration=0),n=0;n<be.length;n++)a["init"+be[n]]();if(t){var r=a.ui=new t(a,o);r.init()}Ie("firstUpdate"),p=p||l.index||0,(isNaN(p)||0>p||p>=Jt())&&(p=0),a.currItem=Qt(p),(j.isOldIOSPhone||j.isOldAndroid)&&(xe=!1),e.setAttribute("aria-hidden","false"),l.modal&&(xe?e.style.position="fixed":(e.style.position="absolute",e.style.top=o.getScrollY()+"px")),void 0===N&&(Ie("initialLayout"),N=R=o.getScrollY());var d="pswp--open ";for(l.mainClass&&(d+=l.mainClass+" "),l.showHideOpacity&&(d+="pswp--animate_opacity "),d+=L?"pswp--touch":"pswp--notouch",d+=j.animationName?" pswp--css_animation":"",d+=j.svg?" pswp--svg":"",o.addClass(e,d),a.updateSize(),h=-1,we=null,n=0;s>n;n++)Fe((n+h)*ye.x,A[n].el.style);z||o.bind(a.scrollWrap,v,a),ke("initialZoomInEnd",function(){a.setContent(A[0],p-1),a.setContent(A[2],p+1),A[0].el.style.display=A[2].el.style.display="block",l.focus&&e.focus(),Ue()}),a.setContent(A[1],p),a.updateCurrItem(),Ie("afterInit"),xe||(T=setInterval(function(){Qe||K||J||y!==a.currItem.initialZoomLevel||a.updateSize()},1e3)),o.addClass(e,"pswp--visible")}},close:function(){c&&(c=!1,u=!0,Ie("close"),Be(),tn(a.currItem,null,!0,a.destroy))},destroy:function(){Ie("destroy"),Gt&&clearTimeout(Gt),e.setAttribute("aria-hidden","true"),e.className=P,T&&clearInterval(T),o.unbind(a.scrollWrap,v,a),o.unbind(window,"scroll",a),At(),tt(),Se=null},panTo:function(e,t,n){n||(e>ne.min.x?e=ne.min.x:e<ne.max.x&&(e=ne.max.x),t>ne.min.y?t=ne.min.y:t<ne.max.y&&(t=ne.max.y)),he.x=e,he.y=t,Le()},handleEvent:function(e){e=e||window.event,g[e.type]&&g[e.type](e)},goTo:function(e){e=Ee(e);var t=e-p;we=t,p=e,a.currItem=Qt(p),ve-=t,Pe(ye.x*ve),tt(),oe=!1,a.updateCurrItem()},next:function(){a.goTo(p+1)},prev:function(){a.goTo(p-1)},updateCurrZoomItem:function(e){if(e&&Ie("beforeChange",0),A[1].el.children.length){var t=A[1].el.children[0];ie=o.hasClass(t,"pswp__zoom-wrap")?t.style:null}else ie=null;ne=a.currItem.bounds,w=y=a.currItem.initialZoomLevel,he.x=ne.center.x,he.y=ne.center.y,e&&Ie("afterChange")},invalidateCurrItems:function(){C=!0;for(var e=0;s>e;e++)A[e].item&&(A[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==we){var t,n=Math.abs(we);if(!(e&&2>n)){a.currItem=Qt(p),Ce=!1,Ie("beforeChange",we),n>=s&&(h+=we+(we>0?-s:s),n=s);for(var i=0;n>i;i++)we>0?(t=A.shift(),A[s-1]=t,h++,Fe((h+2)*ye.x,t.el.style),a.setContent(t,p-n+i+1+1)):(t=A.pop(),A.unshift(t),h--,Fe(h*ye.x,t.el.style),a.setContent(t,p+n-i-1-1));if(ie&&1===Math.abs(we)){var o=Qt(E);o.initialZoomLevel!==y&&(ln(o,me),pn(o),Oe(o))}we=0,a.updateCurrZoomItem(),E=p,Ie("afterChange")}}},updateSize:function(t){if(!xe&&l.modal){var n=o.getScrollY();if(N!==n&&(e.style.top=n+"px",N=n),!t&&Te.x===window.innerWidth&&Te.y===window.innerHeight)return;Te.x=window.innerWidth,Te.y=window.innerHeight,e.style.height=Te.y+"px"}if(me.x=a.scrollWrap.clientWidth,me.y=a.scrollWrap.clientHeight,$e(),ye.x=me.x+Math.round(me.x*l.spacing),ye.y=me.y,Pe(ye.x*ve),Ie("beforeResize"),void 0!==h){for(var i,r,c,u=0;s>u;u++)i=A[u],Fe((u+h)*ye.x,i.el.style),c=p+u-1,l.loop&&Jt()>2&&(c=Ee(c)),r=Qt(c),r&&(C||r.needsUpdate||!r.bounds)?(a.cleanSlide(r),a.setContent(i,c),1===u&&(a.currItem=r,a.updateCurrZoomItem(!0)),r.needsUpdate=!1):-1===i.index&&c>=0&&a.setContent(i,c),r&&r.container&&(ln(r,me),pn(r),Oe(r));C=!1}w=y=a.currItem.initialZoomLevel,ne=a.currItem.bounds,ne&&(he.x=ne.center.x,he.y=ne.center.y,Le(!0)),Ie("resize")},zoomTo:function(e,t,n,i,a){t&&(w=y,wt.x=Math.abs(t.x)-he.x,wt.y=Math.abs(t.y)-he.y,ze(fe,he));var r=qe(e,!1),s={};Ke("x",r,s,e),Ke("y",r,s,e);var l=y,c={x:he.x,y:he.y};Ne(s);var u=function(t){1===t?(y=e,he.x=s.x,he.y=s.y):(y=(e-l)*t+l,he.x=(s.x-c.x)*t+c.x,he.y=(s.y-c.y)*t+c.y),a&&a(t),Le(1===t)};n?nt("customZoomTo",0,1,n,i||o.easing.sine.inOut,u):u(1)}},ot=30,at=10,rt={},st={},lt={},ct={},ut={},dt=[],pt={},ft=[],ht={},mt=0,vt=de(),gt=0,yt=de(),wt=de(),xt=de(),bt=function(e,t){return e.x===t.x&&e.y===t.y},Tt=function(e,t){return Math.abs(e.x-t.x)<r&&Math.abs(e.y-t.y)<r},Ct=function(e,t){return ht.x=Math.abs(e.x-t.x),ht.y=Math.abs(e.y-t.y),Math.sqrt(ht.x*ht.x+ht.y*ht.y)},At=function(){$&&(F($),$=null)},Et=function(){K&&($=O(Et),Ut())},St=function(){return!("fit"===l.scaleMode&&y===a.currItem.initialZoomLevel)},kt=function(e,t){return e&&e!==document?e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1?!1:t(e)?e:kt(e.parentNode,t):!1},It={},Dt=function(e,t){return It.prevent=!kt(e.target,l.isClickableElement),Ie("preventDragEvent",e,t,It),It.prevent},_t=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Mt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},Lt=function(e,t,n){if(e-U>50){var i=ft.length>2?ft.shift():{};i.x=t,i.y=n,ft.push(i),U=e}},Ot=function(){var e=he.y-a.currItem.initialPosition.y;return 1-Math.abs(e/(me.y/2))},Ft={},Pt={},Rt=[],zt=function(e){for(;Rt.length>0;)Rt.pop();return M?(ue=0,dt.forEach(function(e){0===ue?Rt[0]=e:1===ue&&(Rt[1]=e),ue++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Rt[0]=_t(e.touches[0],Ft),e.touches.length>1&&(Rt[1]=_t(e.touches[1],Pt))):(Ft.x=e.pageX,Ft.y=e.pageY,Ft.id="",Rt[0]=Ft),Rt},Nt=function(e,t){var n,i,o,r,s=0,c=he[e]+t[e],u=t[e]>0,d=yt.x+t.x,p=yt.x-pt.x;return n=c>ne.min[e]||c<ne.max[e]?l.panEndFriction:1,c=he[e]+t[e]*n,!l.allowPanToNext&&y!==a.currItem.initialZoomLevel||(ie?"h"!==ae||"x"!==e||G||(u?(c>ne.min[e]&&(n=l.panEndFriction,s=ne.min[e]-c,i=ne.min[e]-fe[e]),(0>=i||0>p)&&Jt()>1?(r=d,0>p&&d>pt.x&&(r=pt.x)):ne.min.x!==ne.max.x&&(o=c)):(c<ne.max[e]&&(n=l.panEndFriction,s=c-ne.max[e],i=fe[e]-ne.max[e]),(0>=i||p>0)&&Jt()>1?(r=d,p>0&&d<pt.x&&(r=pt.x)):ne.min.x!==ne.max.x&&(o=c))):r=d,"x"!==e)?void(oe||V||y>a.currItem.fitRatio&&(he[e]+=t[e]*n)):(void 0!==r&&(Pe(r,!0),V=r===pt.x?!1:!0),ne.min.x!==ne.max.x&&(void 0!==o?he.x=o:V||(he.x+=t.x*n)),void 0!==r)},jt=function(e){if(!("mousedown"===e.type&&e.button>0)){if(Vt)return void e.preventDefault();if(!W||"mousedown"!==e.type){if(Dt(e,!0)&&e.preventDefault(),Ie("pointerDown"),M){var t=o.arraySearch(dt,e.pointerId,"id");0>t&&(t=dt.length),dt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=zt(e),i=n.length;Q=null,tt(),K&&1!==i||(K=re=!0,o.bind(window,m,a),q=ce=se=H=V=X=Y=G=!1,ae=null,Ie("firstTouchStart",n),ze(fe,he),pe.x=pe.y=0,ze(ct,n[0]),ze(ut,ct),pt.x=ye.x*ve,ft=[{x:ct.x,y:ct.y}],U=Z=De(),qe(y,!0),At(),Et()),!J&&i>1&&!oe&&!V&&(w=y,G=!1,J=Y=!0,pe.y=pe.x=0,ze(fe,he),ze(rt,n[0]),ze(st,n[1]),Mt(rt,st,xt),wt.x=Math.abs(xt.x)-he.x,wt.y=Math.abs(xt.y)-he.y,ee=te=Ct(rt,st))}}},Zt=function(e){if(e.preventDefault(),M){var t=o.arraySearch(dt,e.pointerId,"id");if(t>-1){var n=dt[t];n.x=e.pageX,n.y=e.pageY}}if(K){var i=zt(e);if(ae||X||J)Q=i;else if(yt.x!==ye.x*ve)ae="h";else{var a=Math.abs(i[0].x-ct.x)-Math.abs(i[0].y-ct.y);Math.abs(a)>=at&&(ae=a>0?"h":"v",Q=i)}}},Ut=function(){if(Q){var e=Q.length;if(0!==e)if(ze(rt,Q[0]),lt.x=rt.x-ct.x,lt.y=rt.y-ct.y,J&&e>1){if(ct.x=rt.x,ct.y=rt.y,!lt.x&&!lt.y&&bt(Q[1],st))return;ze(st,Q[1]),G||(G=!0,Ie("zoomGestureStarted"));var t=Ct(rt,st),n=Kt(t);n>a.currItem.initialZoomLevel+a.currItem.initialZoomLevel/15&&(ce=!0);var i=1,o=He(),r=We();if(o>n)if(l.pinchToClose&&!ce&&w<=a.currItem.initialZoomLevel){var s=o-n,c=1-s/(o/1.2);_e(c),Ie("onPinchClose",c),se=!0}else i=(o-n)/o,i>1&&(i=1),n=o-i*(o/3);else n>r&&(i=(n-r)/(6*o),i>1&&(i=1),n=r+i*o);0>i&&(i=0),ee=t,Mt(rt,st,vt),pe.x+=vt.x-xt.x,pe.y+=vt.y-xt.y,ze(xt,vt),he.x=Re("x",n),he.y=Re("y",n),q=n>y,y=n,Le()}else{if(!ae)return;if(re&&(re=!1,Math.abs(lt.x)>=at&&(lt.x-=Q[0].x-ut.x),Math.abs(lt.y)>=at&&(lt.y-=Q[0].y-ut.y)),ct.x=rt.x,ct.y=rt.y,0===lt.x&&0===lt.y)return;if("v"===ae&&l.closeOnVerticalDrag&&!St()){pe.y+=lt.y,he.y+=lt.y;var u=Ot();return H=!0,Ie("onVerticalDrag",u),_e(u),void Le()}Lt(De(),rt.x,rt.y),X=!0,ne=a.currItem.bounds;var d=Nt("x",lt);d||(Nt("y",lt),Ne(he),Le())}}},Bt=function(e){if(j.isOldAndroid){if(W&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(W),W=setTimeout(function(){W=0},600))}Ie("pointerUp"),Dt(e,!1)&&e.preventDefault();var t;if(M){var n=o.arraySearch(dt,e.pointerId,"id");if(n>-1)if(t=dt.splice(n,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{var i={4:"mouse",2:"touch",3:"pen"};t.type=i[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var r,s=zt(e),c=s.length;if("mouseup"===e.type&&(c=0),2===c)return Q=null,!0;1===c&&ze(ut,s[0]),0!==c||ae||oe||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Ie("touchRelease",e,t));var u=-1;if(0===c&&(K=!1,o.unbind(window,m,a),At(),J?u=0:-1!==gt&&(u=De()-gt)),gt=1===c?De():-1,r=-1!==u&&150>u?"zoom":"swipe",J&&2>c&&(J=!1,1===c&&(r="zoomPointerUp"),Ie("zoomGestureEnded")),Q=null,X||G||oe||H)if(tt(),B||(B=qt()),B.calculateSwipeSpeed("x"),H){var d=Ot();if(d<l.verticalDragRange)a.close();else{var p=he.y,f=le;nt("verticalDrag",0,1,300,o.easing.cubic.out,function(e){he.y=(a.currItem.initialPosition.y-p)*e+p,_e((1-f)*e+f),Le()}),Ie("onVerticalDrag",1)}}else{if((V||oe)&&0===c){var h=Wt(r,B);if(h)return;r="zoomPointerUp"}if(!oe)return"swipe"!==r?void Yt():void(!V&&y>a.currItem.fitRatio&&Ht(B))}},qt=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(i){ft.length>1?(e=De()-U+50,t=ft[ft.length-2][i]):(e=De()-Z,t=ut[i]),n.lastFlickOffset[i]=ct[i]-t,n.lastFlickDist[i]=Math.abs(n.lastFlickOffset[i]),n.lastFlickDist[i]>20?n.lastFlickSpeed[i]=n.lastFlickOffset[i]/e:n.lastFlickSpeed[i]=0,Math.abs(n.lastFlickSpeed[i])<.1&&(n.lastFlickSpeed[i]=0),n.slowDownRatio[i]=.95,n.slowDownRatioReverse[i]=1-n.slowDownRatio[i],n.speedDecelerationRatio[i]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(he[e]>ne.min[e]?n.backAnimDestination[e]=ne.min[e]:he[e]<ne.max[e]&&(n.backAnimDestination[e]=ne.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,nt("bounceZoomPan"+e,he[e],n.backAnimDestination[e],t||300,o.easing.sine.out,function(t){he[e]=t,Le()}))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,he[e]+=n.distanceOffset[e])},panAnimLoop:function(){return Ve.zoomPan&&(Ve.zoomPan.raf=O(n.panAnimLoop),n.now=De(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),Le(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05)?(he.x=Math.round(he.x),he.y=Math.round(he.y),Le(),void Je("zoomPan")):void 0}};return n},Ht=function(e){return e.calculateSwipeSpeed("y"),ne=a.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(et("zoomPan"),e.lastNow=De(),void e.panAnimLoop())},Wt=function(e,t){var n;oe||(mt=p);var i;if("swipe"===e){var r=ct.x-ut.x,s=t.lastFlickDist.x<10;r>ot&&(s||t.lastFlickOffset.x>20)?i=-1:-ot>r&&(s||t.lastFlickOffset.x<-20)&&(i=1)}var c;i&&(p+=i,0>p?(p=l.loop?Jt()-1:0,c=!0):p>=Jt()&&(p=l.loop?0:Jt()-1,c=!0),(!c||l.loop)&&(we+=i,ve-=i,n=!0));var u,d=ye.x*ve,f=Math.abs(d-yt.x);return n||d>yt.x==t.lastFlickSpeed.x>0?(u=Math.abs(t.lastFlickSpeed.x)>0?f/Math.abs(t.lastFlickSpeed.x):333,u=Math.min(u,400),u=Math.max(u,250)):u=333,mt===p&&(n=!1),oe=!0,Ie("mainScrollAnimStart"),nt("mainScroll",yt.x,d,u,o.easing.cubic.out,Pe,function(){tt(),oe=!1,mt=-1,(n||mt!==p)&&a.updateCurrItem(),Ie("mainScrollAnimComplete")}),n&&a.updateCurrItem(!0),n},Kt=function(e){return 1/te*e*w},Yt=function(){var e=y,t=He(),n=We();t>y?e=t:y>n&&(e=n);var i,r=1,s=le;return se&&!q&&!ce&&t>y?(a.close(),!0):(se&&(i=function(e){_e((r-s)*e+s)}),a.zoomTo(e,0,200,o.easing.cubic.out,i),!0)};Ae("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,i,o){S=e+t,k=e+n,I=e+i,D=o?e+o:""};M=j.pointerEvent,M&&j.touch&&(j.touch=!1),M?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):j.touch?(e("touch","start","move","end","cancel"),L=!0):e("mouse","down","move","up"),m=k+" "+I+" "+D,v=S,M&&!L&&(L=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),a.likelyTouchDevice=L,g[S]=jt,g[k]=Zt,g[I]=Bt,D&&(g[D]=g[I]),j.touch&&(v+=" mousedown",m+=" mousemove mouseup",g.mousedown=g[S],g.mousemove=g[k],g.mouseup=g[I]),L||(l.allowPanToNext=!1)}}});var Gt,Xt,$t,Vt,Qt,Jt,en,tn=function(t,n,i,r){Gt&&clearTimeout(Gt),Vt=!0,$t=!0;var s;t.initialLayout?(s=t.initialLayout,t.initialLayout=null):s=l.getThumbBoundsFn&&l.getThumbBoundsFn(p);var c=i?l.hideAnimationDuration:l.showAnimationDuration,u=function(){Je("initialZoom"),i?(a.template.removeAttribute("style"),a.bg.removeAttribute("style")):(_e(1),n&&(n.style.display="block"),o.addClass(e,"pswp--animated-in"),Ie("initialZoom"+(i?"OutEnd":"InEnd"))),r&&r(),Vt=!1};if(!c||!s||void 0===s.x)return Ie("initialZoom"+(i?"Out":"In")),y=t.initialZoomLevel,ze(he,t.initialPosition),Le(),e.style.opacity=i?0:1,_e(1),void(c?setTimeout(function(){u()},c):u());var f=function(){var n=d,r=!a.currItem.src||a.currItem.loadError||l.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),i||(y=s.w/t.w,he.x=s.x,he.y=s.y-R,a[r?"template":"bg"].style.opacity=.001,Le()),et("initialZoom"),i&&!n&&o.removeClass(e,"pswp--animated-in"),r&&(i?o[(n?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){o.addClass(e,"pswp--animate_opacity")},30)),Gt=setTimeout(function(){if(Ie("initialZoom"+(i?"Out":"In")),i){var a=s.w/t.w,l={x:he.x,y:he.y},d=y,p=le,f=function(t){1===t?(y=a,he.x=s.x,he.y=s.y-N):(y=(a-d)*t+d,he.x=(s.x-l.x)*t+l.x,he.y=(s.y-N-l.y)*t+l.y),Le(),r?e.style.opacity=1-t:_e(p-t*p)};n?nt("initialZoom",0,1,c,o.easing.cubic.out,f,u):(f(1),Gt=setTimeout(u,c+20))}else y=t.initialZoomLevel,ze(he,t.initialPosition),Le(),_e(1),r?e.style.opacity=1:_e(1),Gt=setTimeout(u,c+20)},i?25:90)};f()},nn={},on=[],an={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){
return Xt.length}},rn=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},sn=function(e,t,n){var i=e.bounds;i.center.x=Math.round((nn.x-t)/2),i.center.y=Math.round((nn.y-n)/2)+e.vGap.top,i.max.x=t>nn.x?Math.round(nn.x-t):i.center.x,i.max.y=n>nn.y?Math.round(nn.y-n)+e.vGap.top:i.center.y,i.min.x=t>nn.x?0:i.center.x,i.min.y=n>nn.y?e.vGap.top:i.center.y},ln=function(e,t,n){if(e.src&&!e.loadError){var i=!n;if(i&&(e.vGap||(e.vGap={top:0,bottom:0}),Ie("parseVerticalMargin",e)),nn.x=t.x,nn.y=t.y-e.vGap.top-e.vGap.bottom,i){var o=nn.x/e.w,a=nn.y/e.h;e.fitRatio=a>o?o:a;var r=l.scaleMode;"orig"===r?n=1:"fit"===r&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=rn())}if(!n)return;return sn(e,e.w*n,e.h*n),i&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=rn(),e.initialPosition=e.bounds.center,e.bounds},cn=function(e,t,n,i,o,r){t.loadError||i&&(t.imageAppended=!0,pn(t,i,t===a.currItem&&Ce),n.appendChild(i),r&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},un=function(e){e.loading=!0,e.loaded=!1;var t=e.img=o.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},dn=function(e,t){return e.src&&e.loadError&&e.container?(t&&(e.container.innerHTML=""),e.container.innerHTML=l.errorMsg.replace("%url%",e.src),!0):void 0},pn=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var i=n?e.w:Math.round(e.w*e.fitRatio),o=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=o+"px"),t.style.width=i+"px",t.style.height=o+"px"}},fn=function(){if(on.length){for(var e,t=0;t<on.length;t++)e=on[t],e.holder.index===e.index&&cn(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);on=[]}};Ae("Controller",{publicMethods:{lazyLoadItem:function(e){e=Ee(e);var t=Qt(e);t&&(!t.loaded&&!t.loading||C)&&(Ie("gettingData",e,t),t.src&&un(t))},initController:function(){o.extend(l,an,!0),a.items=Xt=n,Qt=a.getItemAt,Jt=l.getNumItemsFn,en=l.loop,Jt()<3&&(l.loop=!1),ke("beforeChange",function(e){var t,n=l.preload,i=null===e?!0:e>=0,o=Math.min(n[0],Jt()),r=Math.min(n[1],Jt());for(t=1;(i?r:o)>=t;t++)a.lazyLoadItem(p+t);for(t=1;(i?o:r)>=t;t++)a.lazyLoadItem(p-t)}),ke("initialLayout",function(){a.currItem.initialLayout=l.getThumbBoundsFn&&l.getThumbBoundsFn(p)}),ke("mainScrollAnimComplete",fn),ke("initialZoomInEnd",fn),ke("destroy",function(){for(var e,t=0;t<Xt.length;t++)e=Xt[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);on=null})},getItemAt:function(e){return e>=0&&void 0!==Xt[e]?Xt[e]:!1},allowProgressiveImg:function(){return l.forceProgressiveLoading||!L||l.mouseUsed||screen.width>1200},setContent:function(e,t){l.loop&&(t=Ee(t));var n=a.getItemAt(e.index);n&&(n.container=null);var i,r=a.getItemAt(t);if(!r)return void(e.el.innerHTML="");Ie("gettingData",t,r),e.index=t,e.item=r;var s=r.container=o.createEl("pswp__zoom-wrap");if(!r.src&&r.html&&(r.html.tagName?s.appendChild(r.html):s.innerHTML=r.html),dn(r),ln(r,me),!r.src||r.loadError||r.loaded)r.src&&!r.loadError&&(i=o.createEl("pswp__img","img"),i.style.opacity=1,i.src=r.src,pn(r,i),cn(t,r,s,i,!0));else{if(r.loadComplete=function(n){if(c){if(e&&e.index===t){if(dn(n,!0))return n.loadComplete=n.img=null,ln(n,me),Oe(n),void(e.index===p&&a.updateCurrZoomItem());n.imageAppended?!Vt&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):j.transform&&(oe||Vt)?on.push({item:n,baseDiv:s,img:n.img,index:t,holder:e,clearPlaceholder:!0}):cn(t,n,s,n.img,oe||Vt,!0)}n.loadComplete=null,n.img=null,Ie("imageLoadComplete",t,n)}},o.features.transform){var u="pswp__img pswp__img--placeholder";u+=r.msrc?"":" pswp__img--placeholder--blank";var d=o.createEl(u,r.msrc?"img":"");r.msrc&&(d.src=r.msrc),pn(r,d),s.appendChild(d),r.placeholder=d}r.loading||un(r),a.allowProgressiveImg()&&(!$t&&j.transform?on.push({item:r,baseDiv:s,img:r.img,index:t,holder:e}):cn(t,r,s,r.img,!0,!0))}$t||t!==p?Oe(r):(ie=s.style,tn(r,i||r.img)),e.el.innerHTML="",e.el.appendChild(s)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var hn,mn={},vn=function(e,t,n){var i=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(i)};Ae("Tap",{publicMethods:{initTap:function(){ke("firstTouchStart",a.onTapStart),ke("touchRelease",a.onTapRelease),ke("destroy",function(){mn={},hn=null})},onTapStart:function(e){e.length>1&&(clearTimeout(hn),hn=null)},onTapRelease:function(e,t){if(t&&!X&&!Y&&!Qe){var n=t;if(hn&&(clearTimeout(hn),hn=null,Tt(n,mn)))return void Ie("doubleTap",n);if("mouse"===t.type)return void vn(e,t,"mouse");var i=e.target.tagName.toUpperCase();if("BUTTON"===i||o.hasClass(e.target,"pswp__single-tap"))return void vn(e,t);ze(mn,n),hn=setTimeout(function(){vn(e,t),hn=null},300)}}}});var gn;Ae("DesktopZoom",{publicMethods:{initDesktopZoom:function(){z||(L?ke("mouseUsed",function(){a.setupDesktopZoom()}):a.setupDesktopZoom(!0))},setupDesktopZoom:function(t){gn={};var n="wheel mousewheel DOMMouseScroll";ke("bindEvents",function(){o.bind(e,n,a.handleMouseWheel)}),ke("unbindEvents",function(){gn&&o.unbind(e,n,a.handleMouseWheel)}),a.mouseZoomedIn=!1;var i,r=function(){a.mouseZoomedIn&&(o.removeClass(e,"pswp--zoomed-in"),a.mouseZoomedIn=!1),1>y?o.addClass(e,"pswp--zoom-allowed"):o.removeClass(e,"pswp--zoom-allowed"),s()},s=function(){i&&(o.removeClass(e,"pswp--dragging"),i=!1)};ke("resize",r),ke("afterChange",r),ke("pointerDown",function(){a.mouseZoomedIn&&(i=!0,o.addClass(e,"pswp--dragging"))}),ke("pointerUp",s),t||r()},handleMouseWheel:function(e){if(y<=a.currItem.fitRatio)return l.modal&&(!l.closeOnScroll||Qe||K?e.preventDefault():_&&Math.abs(e.deltaY)>2&&(d=!0,a.close())),!0;if(e.stopPropagation(),gn.x=0,"deltaX"in e)1===e.deltaMode?(gn.x=18*e.deltaX,gn.y=18*e.deltaY):(gn.x=e.deltaX,gn.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(gn.x=-.16*e.wheelDeltaX),e.wheelDeltaY?gn.y=-.16*e.wheelDeltaY:gn.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;gn.y=e.detail}qe(y,!0);var t=he.x-gn.x,n=he.y-gn.y;(l.modal||t<=ne.min.x&&t>=ne.max.x&&n<=ne.min.y&&n>=ne.max.y)&&e.preventDefault(),a.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:me.x/2+ge.x,y:me.y/2+ge.y};var n=l.getDoubleTapZoom(!0,a.currItem),i=y===n;a.mouseZoomedIn=!i,a.zoomTo(i?a.currItem.initialZoomLevel:n,t,333),o[(i?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var yn,wn,xn,bn,Tn,Cn,An,En,Sn,kn,In,Dn,_n={history:!0,galleryUID:1},Mn=function(){return In.hash.substring(1)},Ln=function(){yn&&clearTimeout(yn),xn&&clearTimeout(xn)},On=function(){var e=Mn(),t={};if(e.length<5)return t;var n,i=e.split("&");for(n=0;n<i.length;n++)if(i[n]){var o=i[n].split("=");o.length<2||(t[o[0]]=o[1])}if(l.galleryPIDs){var a=t.pid;for(t.pid=0,n=0;n<Xt.length;n++)if(Xt[n].pid===a){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},Fn=function(){if(xn&&clearTimeout(xn),Qe||K)return void(xn=setTimeout(Fn,500));bn?clearTimeout(wn):bn=!0;var e=p+1,t=Qt(p);t.hasOwnProperty("pid")&&(e=t.pid);var n=An+"&gid="+l.galleryUID+"&pid="+e;En||-1===In.hash.indexOf(n)&&(kn=!0);var i=In.href.split("#")[0]+"#"+n;Dn?"#"+n!==window.location.hash&&history[En?"replaceState":"pushState"]("",document.title,i):En?In.replace(i):In.hash=n,En=!0,wn=setTimeout(function(){bn=!1},60)};Ae("History",{publicMethods:{initHistory:function(){if(o.extend(l,_n,!0),l.history){In=window.location,kn=!1,Sn=!1,En=!1,An=Mn(),Dn="pushState"in history,An.indexOf("gid=")>-1&&(An=An.split("&gid=")[0],An=An.split("?gid=")[0]),ke("afterChange",a.updateURL),ke("unbindEvents",function(){o.unbind(window,"hashchange",a.onHashChange)});var e=function(){Cn=!0,Sn||(kn?history.back():An?In.hash=An:Dn?history.pushState("",document.title,In.pathname+In.search):In.hash=""),Ln()};ke("unbindEvents",function(){d&&e()}),ke("destroy",function(){Cn||e()}),ke("firstUpdate",function(){p=On().pid});var t=An.indexOf("pid=");t>-1&&(An=An.substring(0,t),"&"===An.slice(-1)&&(An=An.slice(0,-1))),setTimeout(function(){c&&o.bind(window,"hashchange",a.onHashChange)},40)}},onHashChange:function(){return Mn()===An?(Sn=!0,void a.close()):void(bn||(Tn=!0,a.goTo(On().pid),Tn=!1))},updateURL:function(){Ln(),Tn||(En?yn=setTimeout(Fn,800):Fn())}}}),o.extend(a,it)};return e}),function(e){var t=e(".pswp")[0],n=[];e("._forLightbox").each(function(){var i=e(this),o=function(){var t=[];return i.find("a").each(function(){var n=e(this).attr("href"),i=e(this).data("size").split("x"),o=i[0],a=i[1],r={src:n,w:o,h:a};t.push(r)}),t},a=o();e.each(a,function(e,t){n[e]=new Image,n[e].src=t.src}),i.on("click",function(n){n.preventDefault(),e("body").addClass("working");var i=e(this).index(),o={index:i,bgOpacity:1,showHideOpacity:!0},r=new PhotoSwipe(t,!1,a,o);r.init()})})}(jQuery);