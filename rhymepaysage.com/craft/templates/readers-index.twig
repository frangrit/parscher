{#
 # Homepage template
 # ---------------
 #
 # When this template gets loaded, it will be because someone has accessed
 # http://yoursite.com/ (without any URI). Craft checks to see if you have
 # a Single section set to be the Homepage (as you do, by default), and
 # loads the section’s Template (this file). A special ‘entry’ variable
 # will already be set for you, assigned to the Homepage entry.
 #
 # It's worth noting that even if you didn't have a Homepage Single section,
 # as long as this template remains at craft/templates/index.html, it
 # would still be the one to get loaded when accessing http://yoursite.com/,
 # albeit without an ‘entry’ variable already set for you.
 #
 # See this page for more details on how Craft routes requests:
 # http://craftcms.com/docs/routing
 #}

{% extends "_layout" %}
{% set bodyClass = "site-index" %}

{% block content %}
	{% include "_nav-binary-home" %}
	<div class="content-start">
		<main id="content" role="main">
			<div class="body">
				<h2 class="text-title">Index</h2>
				<div class="body-main">
					<ul class="site-index">
						{% for tag in craft.tags.group('indexTags')%}
							{% set taggedEntries = craft.entries.section('texts').relatedTo(tag) %}
							{% if taggedEntries | length %}
								{% if taggedEntries | length == 1 %}
									{% set taggedEntry = taggedEntries.first() %}
									<li class="site-index--entry"><a href="{{ taggedEntry.url }}" class="_isUnderlined">{{ tag.title }}</a></li>
									{% else %}
										<li class="site-index--entry">{{ tag.title }}
											<ul class="site-index--entry-multiples">
												{% for taggedEntry in taggedEntries %}
												<li class="site-index--entry-multiples-entry type--d-s"><a href="{{ taggedEntry.url }}" class="_isUnderlined">{{ loop.index }}</a></li>
												{% endfor %}
											</ul>
										</li>
								{% endif %}
							{% endif %}
						{% endfor %}
					</ul>
				</div>
			</div>
		</main>
		{% include "_content-foot" %}
	</div>{# /.content-start #}
{% endblock %}
